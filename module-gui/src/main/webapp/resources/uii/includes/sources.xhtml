<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:jsf="http://xmlns.jcp.org/jsf">

    <composite:interface>
    </composite:interface>

    <composite:implementation>
        <h:panelGroup
            id="sources"
            rendered="#{field.allowSources}"
            layout="block">
            <ui:repeat
                var="source"
                value="#{field.sources}">

                <div class="source">
					<div class="source_values">
					<div style="padding: 2px 12px; line-height: 1.42857143; font-size: 13px; color: #333; cursor: not-allowed; background-color: #eee; opacity: 1; border: 1px solid #ccc;">
                    	<h:outputText escape="false" value="#{source.sourceName}"/>
					</div>
                       
                       		<div class="source_properties" style="margin-top:3px">
								
										<div class="form-group">
												<div class="col-sm-3"
													style="background: var(- -bg-content); border-left: 0">
													<h:outputLabel for="sourceType"
														value="#{msgs.plugin_workflow_entity_editor_sourceType}" />
													<h:panelGroup>
														<i class="fa fa-asterisk pull-right font-asterisk"
															title="#{msgs.requiredField}" data-toggle="tooltip" />
													</h:panelGroup>
												</div>
												<div class="col-sm-9">
													<h:selectOneMenu id="sourceType" styleClass="form-control"
														value="#{source.sourceType}">
														<f:selectItem itemValue=""
															itemLabel="#{msgs.bitteAuswaehlen}" />
														<f:selectItem
															itemLabel="#{msgs.plugin_workflow_entity_editor_primary}"
															itemValue="Primary" />
														<f:selectItem
															itemLabel="#{msgs.plugin_workflow_entity_editor_secondary}"
															itemValue="Secondary" />
														<f:selectItem
															itemLabel="#{msgs.plugin_workflow_entity_editor_tertiary}"
															itemValue="Tertiary" />
															<f:ajax execute="@this"></f:ajax>
													</h:selectOneMenu>
												</div>

												<div class="col-sm-3"
													style="background: var(- -bg-content); border-left: 0">
													<h:outputLabel
														value="#{msgs.plugin_workflow_entity_editor_sourcePage}"
														for="sourcePage" />
												</div>
												<div class="col-sm-9">

													<h:inputText id="sourcePage" styleClass="form-control"
														value="#{source.pageRange}">
														<f:ajax
								                            execute="@form"
								                            event="valueChange" />
													</h:inputText>
												</div>
											</div>
								
								</div>
                       </div>

                    <span>
                        <!--  button to remove source -->
                        <button
                            type="button"
                            jsf:id="deleteSource"
                            class="btn pull-right btn--icon-light source-btn"
                            jsf:action="#{field.removeSource(source)}"
                            title="#{msgs.plugin_workflow_entity_delete}"
                            data-toggle="tooltip"
                            data-placement="top">
                            <i class="fa fa-trash" />
                            <f:ajax
                                execute="@this"
                                render="@form" />
                        </button>
                    </span>

                </div>
            </ui:repeat>


        </h:panelGroup>
    </composite:implementation>
</ui:composition>